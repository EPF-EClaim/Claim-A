<mvc:View xmlns:unified="sap.ui.unified" 
    id="request_new_item"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table"
    controllerName="claima.controller.RequestFormItem">
    
    <mvc:content>
        <VBox width="100%" height="100%" rowGap="1rem">
            <OverflowToolbar height="3rem">
                <Title text="Request Details" titleStyle="H4" />
                <ToolbarSpacer />
                <MenuButton text="Save Request" buttonMode="Split" defaultAction="onSave" beforeMenuOpen="onBeforeMenuOpen" useDefaultActionOnly="true">
                    <menu>
                        <Menu itemSelected="onMenuAction">
                            <MenuItem text="Save and add another" />
                        </Menu>
                    </menu>
                </MenuButton>
            </OverflowToolbar>
            <VBox rowGap="1rem">
                <VBox rowGap="0.5rem" width="40rem">
                    <List showSeparators="None">
                        <InputListItem label="Claim Type">
                            <Select width="25rem" >
                                <items>
                                    <core:Item key="CT1" text="Claim Type 1" />
                                    <core:Item key="CT2" text="Claim Type 2" />
                                    <core:Item key="CT3" text="Claim Type 3" />
                                    <core:Item key="CT4" text="Claim Type 4" />
                                </items>
                            </Select>
                        </InputListItem>
                        <InputListItem label="Estimated No. of Participants">
                            <Input id="estNoOfParticipant" textAlign="Begin" width="25rem" type="Number"/>
                        </InputListItem>
                        <InputListItem label="Estimated Amount">
                            <Input id="estAmount" textAlign="Begin" width="25rem" type="Number"/>
                        </InputListItem>
                    </List>
                </VBox>
                <VBox rowGap="0.5rem">
                    <OverflowToolbar height="3rem">
                        <Title text="Participant Details" titleStyle="H4" />
                        <ToolbarSpacer />
                        <unified:FileUploader
                            id="fuImport"
                            icon="sap-icon://upload"
                            buttonOnly="true"
                            buttonText="Upload XSLX"
                            fileType="csv,xlsx"
                            change=".onImportChange"
                            style="Emphasized"/>
                        <Button icon="sap-icon://delete" text="Delete" press=".onDeleteSelected"/>
                    </OverflowToolbar>
                    <table:Table 
                        id="req_participant_table"
                        rows="{/rows}"
                        columnHeaderHeight="3rem"
                        selectionMode="MultiToggle"
                        rowActionCount="1">
                        <table:Column width="25rem">
                            <Label text="Participant"></Label>
                            <table:template>
                                <Input id="participant_name" textAlign="Begin" value="{participant_name}" change=".appendNewRow"></Input>
                            </table:template>
                        </table:Column>
                        <table:Column width="25rem">
                            <Label text="Employee Cost Center"></Label>
                            <table:template>
                                <Input id="emp_cost_center" textAlign="Begin" value="{emp_cost_center}"></Input>
                            </table:template>
                        </table:Column>
                        <table:Column width="25rem">
                            <Label text="Allocated Amount"></Label>
                            <table:template>
                                <Input id="alloc_amount" textAlign="End" value="{alloc_amount}" type="Number"></Input>
                            </table:template>
                        </table:Column>
                        <table:rowActionTemplate>
                            <table:RowAction>
                                <table:items>
                                    <table:RowActionItem type="Delete" press="onRowDelete"></table:RowActionItem>
                                </table:items>
                            </table:RowAction>
                        </table:rowActionTemplate>
                    </table:Table>
                </VBox>
            </VBox>
        </VBox>
    </mvc:content>
</mvc:View>